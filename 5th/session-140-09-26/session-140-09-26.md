
# step1

## Topics

### - How to setup a server side application using Docker and node js.
### - How to create Docker file in our application.
### - Docker config.

----------------------------------------------------

# step2

### Create Node application

create a directory with the name of "samplenode" using the command below: 

```bash
mkdir samplenode
```
then create index.js and package.json files. this saves our application dependencies. to do this use command below:

```bash
touch index.js 
```
```bash
touch package.json
```
copy this object into your package.json file to start your application using "npm run start": 

```bash
{
	"dependencies": {
		"express": "*"
	},
	"scripts": {
		"start": "node index.js"
	}
}
```

copy this code into your index.js file:

```bash
const express = require('express');

const app = express();

app.get('/', (req, res) => {
	res.send('hello world')
})

app.listen(7000, () => {
	console.log('i am listening on port 7000!')
})
```
you can run your application using:
```bash
node index.js
```
or 
```bash
npm run start
```

---------------------------------------------------------

# step3

### Add Docker file

first create a new directory with the name of "Dockerfile" using command below:

```bash
nvim Dockerfile
```
copy this into your Dockerfile:

```bash
# specify a base image
FROM hub.hamdocker.ir/node:alpine

#install dependencies
WORKDIR /usr/app
COPY ./ /usr/app
RUN npm install

# deafult command
CMD ["npm", "start"]
```

then build your docker file using:

```bash
docker build .
```
now run command below (-t stands for tag format), (for example: hadimobarra/):

```bash
docker build -t hadimobarra/simplenode .
```


finally run below command to be able to run our application on port 7000 in browser:
```bash
docker run -p 7000:7000 hadimobarra/simplenode 
```



